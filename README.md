# Лабораторная работа №2
Отчет по лабораторной работе #2 выполнил:
- Кузьминых Данил Альбертович
- РИ-220950
Отметка о выполнении заданий:

| Задание | Выполнение | Баллы |
| ------ | ------ | ------ |
| Задание 1 | * |  |
| Задание 2 | * |  |
| Задание 3 | * |  |

## Цель работы
### Научиться передавать в Unity данные из Google Sheets с помощью Python

## Задание 1
### Проанализировать игровую переменную
<details>
<summary>Детали работы</summary>

  <ol>Задачи:
    <li>Выберать одну компьютерную игру</li>
    <li>Привести скриншот геймплея и краткое описание концепта выбранной игры.</li>
    <li>Выбрать одну из игровых переменных в игре (ресурсы, внутри игровая валюта, здоровье персонажей и т.д.).</li>
    <li>Описать роль переменной в игре, условия изменения / появления и диапазон допустимых значений.</li>
    <li>Построить схему экономической модели в игре и указать место выбранной переменной в ней.</li>
  </ol>

  <details>
    <summary>Задачи 1-2:</summary>
    <p>Для проведения анализа я выбрал компьютерную игру Dark Souls 3</p>
    <p>Концепт игры Dark Souls 3:<br>Dark Souls 3 представляет собой хардкорную экшен-RPG, основой которой является исследование мира путём перемещения по разнообразным локациям, населённым не менее разнообразными мобами и боссами. По ходу прохождения игроку встретятся тёмные подземелья, токсичные болота, пугающие кладбища, красивые замки и т. д.</p>
    <p>Скриншот геймплея</p>
    <img alt = "Скриншот Убийства Безымяного короля" src = "https://steamuserimages-a.akamaihd.net/ugc/938336091539491726/C4BCE344F72DD4EADA54269CF555A3244E33526D/?imw=5000&imh=5000&ima=fit&impolicy=Letterbox&imcolor=%23000000&letterbox=false">
  </details>
  
  <details>
    <summary>Задачи 3-4:</summary>
    <p>В качестве игровой переменной я решил взять местную игровую валюту - "Души"</p>
    <p>Далее подробнее о ней:</p>
    <p>Краном ресурсов в игре служат убийства рядовых противников как постоянный и неисчерпаемый ресурс, NPC, мини боссов и боссов как ограниченный ресурс.<br> Так же краном ресурсов служат предметы при применении, которых вам начисляется определённое кол-во ресурса, их кол-во ограничено на карте.</p>
    <p>
      Инвентарём для данной валюты служит хранилище, которое сохраняет валюту до смерти игрового персонажа, после чего создаёт временное хранилище на карте куда перечисляет весь хранимый ресурс.<br>
      Временное хранилище можно, либо "забрать", либо "уничтожить": 
      <ul>
        <li>Действием "забрать" является единоразовое взаимодействие с объектом при котором вам будет перечислено хранимое в нём кол-во ресурсов, после чего хранилище будет уничтожено.</li> 
        <li>Действием "уничтожить" служит ваша следующая смерть, при этом хранилище будет безвозвратно уничтожено вместе с хранимым на ней ресурсом.</li>
      </ul>
      <p>
        Трубой в данной игре служат смерти или неожиданные сюжетные взаимодействия.<br>
      </p>
      <p>
        Преобразователями в игре служат улучшения характеристик персонажа, улучшения снаряжения и торговцы.<br>
      </p>
      <p>
        Торговцами в игре выступают NPC, готовые обменять ваши ресурсы на полезные предметы, и так же обратно.<br>
      </p>
      <p>
        Изменение получаемых душ с противников растёт от стартовых локаций к конечным, включая DLC игры, от 10 до 13000 душ, при первом прохождении.<br>
        Изменение получаемых душ с боссов и мини-боссов растёт в зависимости от локации, включая DLC игры, от 2000 до 150000 душ, при первом прохождении.<br>
        Изменения стоимости прокачки уровня растёт по следующим формулам:    
        <ul>
          <li>До 12 уровня: Души = 0.0068 Lvl^3 - 0.06 Lvl^2 + 17.1 Lvl + 639</li>
          <li>После 12 уровня: Души = 0.02 Lvl^3 + 3.06 Lvl^2 + 105.6 Lvl - 895</li>
        </ul>
        Таким образом мы получаем, что прокачка 2 уровня стоит 673 души, а прокачка максимально допустимого уровня(713) будет стоить 8879349 душ.<br>
        Цены у торговцев на предметы не изменяются в цене с прохождением игры, а сами предметы могут стоить от 5 до 20000 душ. 
      </p>
  </details>

  <details>
    <summary>Задача 5:</summary>
    Схема экономической модели в игре:
    <img alt = "Схема экономической модели в игре" src = "https://i.postimg.cc/qvpTZyvg/19-11-23-12-33-14.png">
  </details>
</details>



## Задание 2
### Заполнить google-таблицу данными при помощи Python и визуализировать их
<details>
<summary>Детали работы</summary>

<ol>Задачи:
    <li>Выбрать изменяемую переменную</li>
    <li>Настроить доступ к гугл таблице по API</li>
    <li>Сгенерировать данные для выбранной переменной с помощью Python и передать их в google-таблицу</li>
    <li>Визуализировать результат</li>
  </ol>
<p>
  В качестве изменяемой переменной я решил выбрать попадание пули по мишени. Таким обазом я должен сгенерировать 10 случайныйх значений координат точки куда попадёт пуля. Я решил работать в 1 координатной четверти. Тогда для каждой из координат значения будут варироваться от 0 до 100, центр самой мишени будет находится на координате(50, 50). А за результативность будет взято расстояние между центром и точкой попадания.
</p>
<p>
  Настройка доступа по API:
  <ol>
    <li>
      Я создал новый сервисный аккаунт в Google Cloud в APIs&Service
      <img alt = "Скриншот нового аккаунта" src = "https://i.postimg.cc/HLnm5XL7/19-11-23-15-38-50.png">
    </li>
    <li>
      Затем я создал новую гугл таблицу и добавил в качестве редактора созданный сервисный аккаунт.
      <img alt = "Скриншот из гугл таблиц" src = "https://i.postimg.cc/9FynfpGQ/19-11-23-15-42-23.png">
    </li>
  </ol>
</p>
<p>
  Генерация данных с помощью Python:<br>
  Я написал скрипт на jupyter для реализации данной задачи.
</p>
  <details>
  <summary>Код на Phython:</summary> 
    
    import gspread
    import numpy as np
    import math
    gc = gspread.service_account(filename='data-analysis-400909-0d5cee765f29.json')
    sh = gc.open("SheetsLABA2")
    x = np.random.randint(0, 100, 10)
    y = np.random.randint(0, 100, 10)
    mon = list(range(1,10))
    i = 0
    while i <= len(mon):
    i += 1
    if i == 0:
        continue
    else:
        distance = math.sqrt((x[i-1]-50)**2+(y[i-1]-50)**2)
        distance = str(distance)
        distance = distance.replace('.',',')
        sh.sheet1.update(('A' + str(i)), str(i))
        sh.sheet1.update(('B' + str(i)), str(x[i-1]))
        sh.sheet1.update(('C' + str(i)), str(y[i-1]))
        sh.sheet1.update(('D' + str(i)), str(distance))
        print(distance)
  </details>

  <details>
    <summary>Результаты:</summary>
    <p>Выполнение кода:</p>
    <img alt = "Скриншот выполнения кода" src = "https://i.postimg.cc/Y0shjC9B/19-11-23-16-20-28.png">
    <p>Результат в таблицах</p>
    <img alt = "Скриншот результата в таблицах" src = "https://i.postimg.cc/rFw2y27g/19-11-23-16-23-07.png">
    <p>Визуализация данных</p>
    <img alt = "Скриншот визуализации данных" src = "https://i.postimg.cc/BvNNZbkn/19-11-23-16-25-46.png">
  </details>
</details>

## Задание 3
### Настроить сцену Unity
<details>
<summary>Детали работы</summary>

  <ol>Задачи:
    <li>Подобрать звуковые файлы, создать префабы, написать скрипты, настроить сцену</li>
    <li>Проверить результат</li>
    <li>Записать результаты</li>
    <li>Подкрепить результаты самой лабораторной</li>
  </ol>
  <p>Файлы для звука были записаны с помощью бота и имеют следующие вариации:</p>
  <ol>
    <li>Настолько мимо, ну ты и мазила</li>
    <li>Близко, но ты явно косой</li>
    <li>Почти попал, годен!</li>
    <li>Точно в цель, пойдёшь окопы копать!</li>
  </ol>
  <p>Создан префаб попадания и объект мишени, находящимся на канвасе, который закреплён за камерой</p>
  <p>Написан скрипт по прочтению данных из google-таблицы, анализу и воспроизведению результата</p>
  <p>Ссылка на видео по собственной работе: https://youtu.be/6Y9x8uO30D4</p>
  <p>Ссылка на видео по лабораторной работе: https://youtu.be/K_P5rTTdjBc</p>
</details>
